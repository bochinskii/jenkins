---------------------------------------------
Развертывание сайта на Drupal на EC2 instance
---------------------------------------------


Суть задачи. У нас есть запущенный ec2 instance (на самом деле неважно) с lemp.
При этом он настроен для Drupal CMS.

Нужно сделать CI/CD сайта.

Архив сайта и базы данных находится на GitHub'е.

Мы сделаем Pipeline job, который будет клонировать репозиторий с сайтои и с
Jenkinsfile'ом. Далее, данный job будет запускать pipeline код для развертывания сайта
на web севрер.


На скриншоте - 1 показано, что мы настроили доступ к web серверу с помощью
плагина - https://plugins.jenkins.io/publish-over-ssh/


Далее, создали все необходимые credentials - скриншот - 2


Создали job - скриншоты - 3 - 4.

В данном скриншоте мы указываем Jenkinsfile в котором описывается pipeline код.

В нашем случае у нас есть 2-а Jenkinsfile'а. Все Jenkinsfile'ы делают одно и тоже.
Разница состоит в том, что в Jenkinsfile_v1 - мы используем ssh комманды из shell'а,
а в Jenkinsfile_v2 - используем плагин - SSH Pipeline Steps - https://plugins.jenkins.io/ssh-steps/

Можете протестировать люой из них

На скриншоте - 5 показан результат работы.
